<!--pages/user/index.wxml-->
<ui-sys title="我的" tabbar>

  <!-- 头像卡片部分 -->
  <view class="UCenter-bg margin"> 
    <!-- 用户头像 -->
    <image src="{{userInfo.avatarUrl}}" class="png" mode="widthFix"></image>
    <!-- 用户昵称 -->
    <view class="text-xl margin-top-sm">
      {{userInfo.username}}
    </view>
    <!-- 使用ui及开发版本 -->
    <view class="cu-capsule round align-start">
      <view class="cu-tag bg-blue sm">ColorUI</view>
      <view class="cu-tag line-blue sm">v0.8.0</view>
    </view>
    <!-- 寻物ID -->
    <view class="margin-top-xs">
      <text>寻物ID: {{userInfo.id}}</text>
    </view>
    <image src="/images/user/wave.gif" mode="scaleToFill" class="gif-wave"></image>
  </view>

  <!-- 个人信息模块 -->
  <view class="cu-list menu card-menu margin-top-xl margin-bottom-xl shadow-lg radius">
    <view class="cu-item">
      <view class="content padding-tb-sm">
        <view>
          <text class="cuIcon-clothesfill text-blue margin-right-xs"></text>个人信息</view>
        <view class="text-gray text-sm">
          <text class="cuIcon-infofill margin-right-xs"></text>点击按钮查看个人信息</view>
      </view>
      <view class="action">
        <switch class="switch sm" bindchange="SetInfoShow"></switch>
      </view>
    </view>
  </view>

  <!-- 个人信息隐藏模块 -->
  <ui-menu ui="border radius m-4 shadow-blur {{isShow ? '' : 'ui-menu-show'}}">
    <!-- 昵称 -->
    <ui-menu-item title="昵称" icon="cuIcon-list text-blue" isAction>
      <view slot="action">
        <text class="text-grey text-sm">{{userInfo.username}}</text>
      </view>
    </ui-menu-item>
    <!-- 学校 -->
    <ui-menu-item title="学校" icon="cuIcon-list text-blue" isAction>
      <view slot="action">
        <text class="text-grey text-sm">{{userInfo.college}}</text>
      </view>
    </ui-menu-item>
    <!-- 手机 -->
    <ui-menu-item title="手机" icon="cuIcon-list text-blue" isAction>
      <view slot="action">
        <text class="text-grey text-sm">{{userInfo.phoneNumber}}</text>
      </view>
    </ui-menu-item>

    <ui-menu-item arrow title="修改我的信息" icon="_icon-edit text-blue" isAction data-url="/pages/user/change_user_info?url={{userId}}" bindtap="tapToUrl">
    </ui-menu-item>
  </ui-menu>

  <!-- 功能模块 -->
  <ui-menu ui="border radius m-4 shadow-blur">
    <!-- 副标题：功能 -->
    <ui-title class="text-nowrap" title="功能" desc="options" depth="2" isIcon/>

    <ui-menu-item arrow title="主题设置" icon="cuIcon-newshotfill text-blue" isAction data-url="/pages/setting/setting" bindtap="tapToUrl">
    </ui-menu-item>

    <ui-menu-item arrow title="我的发布" icon="cuIcon-newshotfill text-blue" isAction data-url="/pages/public/public" bindtap="tapToUrl">
    </ui-menu-item>

    <ui-menu-item arrow title="我的收藏" icon="cuIcon-newshotfill text-blue" isAction data-url="/pages/collect/collect" bindtap="tapToUrl">
    </ui-menu-item>

  </ui-menu>
  <!-- 关于模块 -->
  <ui-menu ui="border radius m-4 shadow-blur">
    <!-- 副标题：关于 -->
    <ui-title class="text-nowrap" title="关于" desc="about" depth="2" isIcon/>

    <ui-menu-item arrow title="关于我们" icon="cuIcon-newshotfill text-blue" isAction data-url="/pages/about/about" bindtap="tapToUrl">
    </ui-menu-item>

    <view style="position: relative;">    
      <ui-menu-item arrow title="在线客服" icon="cuIcon-newshotfill text-blue" data-url="/pages/about/about" bindtap="tapToUrl" /> 
      <button class="ui-btn kefubtn " open-type="contact"></button>
    </view>

    <view style="position: relative;">    
      <ui-menu-item arrow title="意见反馈" icon="cuIcon-newshotfill text-blue" data-url="/pages/about/about" bindtap="tapToUrl" /> 
      <button class="ui-btn kefubtn  " open-type="feedback"></button>
    </view>

    <ui-menu-item arrow title="GitHub地址" icon="cuIcon-newshotfill text-blue" isAction data-link="https://github.com/mox-hub/Findplatform-web/" bindtap="CopyLink">
    </ui-menu-item>
  </ui-menu>

  <!-- 底栏 footer -->
  <view class="cu-item">
      <view class="text-blue text-ls flex justify-center">
        <navigator class="text-blue" bindtap="CopyLink" data-link="https://gitee.com/hfutcs-330">不醒人室</navigator>
      </view>
      <view class="text-sm text-grey flex justify-center">Copyright &copy; 2022-至今 foocode.cn</view>
  </view>

  <!-- 一些间距 -->
  <view class="cu-tabbar-height"></view>
</ui-sys>

